const query=(e,t=0,n)=>{const o=setInterval((()=>{document.querySelectorAll(e)[t]&&(clearInterval(o),n(document.querySelectorAll(e)[t]))}),100)},select_location=e=>new Promise(((t,n)=>{query("p-tabpanel p-dropdown div[role='button']",0,(n=>{n.click(),query("p-tabpanel p-dropdown p-dropdownitem li",e,(e=>{e.click(),t()}))}))})),accept_terms=()=>{new Promise(((e,t)=>{query("p-tabpanel input[type='checkbox']",0,(e=>e.click())),e()}))},next=()=>new Promise(((e,t)=>{query("button[type='submit']:not([disabled])",0,(e=>e.click())),e()})),select_folder=e=>new Promise(((t,n)=>{query("p-tabview ul[role='tablist'] a[role='tab']",e,(e=>e.click())),t()})),set_folders_count=e=>new Promise(((t,n)=>{let o=[];for(let t=1;t<e;t++)o.push(new Promise(((e,t)=>{query("p-tabview ul[role='tablist'] a[role='tab']",0,(e=>e.click())),e()})));Promise.all(o).then((()=>t()))})),set_folders_visa_typology=e=>new Promise(((t,n)=>{query("p-tabpanel section p-dropdown div[role='button']",0,(n=>{n.click(),query("p-tabpanel section p-dropdown p-dropdownitem li",e,(e=>{e.click(),t()}))}))})),set_folders_visa_category=e=>new Promise(((t,n)=>{query("p-tabpanel section p-dropdown div[role='button']",1,(n=>{n.click(),query("p-tabpanel section p-dropdown p-dropdownitem li",e,(e=>{e.click(),t()}))}))})),set_folder_visa=(e,t)=>new Promise(((n,o)=>{query(`.p-tabview-panels p-tabpanel:nth-of-type(${e}) p-dropdown div[role='button']`,2,(o=>{o.click(),query(`.p-tabview-panels p-tabpanel:nth-of-type(${e}) p-dropdown div[role='button'] + div li`,t,(e=>{e.click(),n()}))}))})),set_input=(e,t,n)=>new Promise(((o,p)=>{query(`app-no-form form input[name="${t}"]`,[e-1],(e=>{e.value=n,e.dispatchEvent(new Event("input")),e.dispatchEvent(new Event("change")),e.dispatchEvent(new Event("compositionend")),o()}))})),set_folder_inputs=(e,t)=>set_input(e,"name",t.firstName).then((()=>set_input(e,"surname",t.lastName))).then((()=>set_input(e,"birthLocalDate",t.dateOfBirth.split("T")[0]))).then((()=>set_input(e,"passport",t.passportNumber))).then((()=>set_input(e,"applicantEmail",t.email))).then((()=>set_input(e,"phone",t.phone))).then((()=>set_input(e,"expectedDepartureLocalDate",t.expectedTravelDate.split("T")[0]))),set_folders_visa=e=>(console.log(e),e.reduce(((e,t,n)=>e.then((()=>{return e=n+2,o=t,new Promise(((t,n)=>{query(`.p-tabview-panels p-tabpanel:nth-of-type(${e}) p-dropdown div[role='button']`,2,(n=>{n.click(),query(`.p-tabview-panels p-tabpanel:nth-of-type(${e}) p-dropdown div[role='button'] + div li`,o,(e=>{e.click(),t()}))}))}));var e,o}))),Promise.resolve())),set_folders_inputs=e=>{const{applicants:t,email:n,phone:o,expectedTravelDate:p}=e;return t.reduce(((e,t,r)=>e.then((()=>set_folder_inputs(r+1,{...t,email:n,phone:o,expectedTravelDate:p})))),Promise.resolve())};